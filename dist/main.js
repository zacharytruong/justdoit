(()=>{"use strict";const e=function(){function e(){const e=JSON.parse(localStorage.getItem("allProjects")),t=document.createElement("ul");return t.classList.add("todos"),e.forEach((e=>{e.todos.forEach((e=>{const n=document.createElement("li");n.textContent=e.content,t.appendChild(n)}))})),t}function t(e){const t=JSON.parse(localStorage.getItem("allProjects")),n=document.createElement("ul");return n.classList.add("todos"),t.find((t=>t.name===e.target.id)).todos.forEach((e=>{const t=document.createElement("li");t.textContent=e.content,n.appendChild(t)})),n}return{displayTodos:function(n){!function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById(`${e.target.id}`);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(n),dataPanel.innerHTML="","Inbox"===n.target.id?dataPanel.appendChild(e()):dataPanel.appendChild(t(n))},createInboxTodos:e,createProjectTodos:t}}(),t=function(){function t(e){const t=this.closest(".modalContainer");t.classList.remove("fadeIn"),t.classList.add("fadeOut"),t.addEventListener("animationend",(()=>{t.remove()}))}function n(n){const a=JSON.parse(localStorage.getItem("allProjects")),c=this.closest(".listContainer"),s=this.closest(".projects"),d=this.closest(".projectsContainer"),r=a.findIndex((e=>e.name===c.firstChild.id));var i;a.splice(r,1),i=a,localStorage.setItem("allProjects",JSON.stringify(i)),function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById("Inbox");t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(),dataPanel.innerHTML="",d.remove(),s.insertBefore(o(),s.lastChild),dataPanel.appendChild(e.createInboxTodos()),t.bind(this)()}function a(e){this.parentElement.appendChild(function(){const e=document.createElement("div");e.classList.add("modalContainer"),e.classList.add("fadeIn");const a=document.createElement("div");return a.classList.add("modal"),a.appendChild(function(){const e=document.createElement("p");return e.classList.add("alert"),e.textContent="Are you sure? Deleting project will delete all todos belong to it!",e}()),a.appendChild(function(){const e=document.createElement("div");return e.classList.add("actions"),e.appendChild(function(){const e=document.createElement("button");return e.textContent="No",e.classList.add("cancel"),e.addEventListener("click",t),e}()),e.appendChild(function(){const e=document.createElement("button");return e.textContent="Yes",e.classList.add("agree"),e.addEventListener("click",n),e}()),e}()),e.appendChild(a),e}())}function o(){const t=JSON.parse(localStorage.getItem("allProjects")),n=document.createElement("ul");return n.classList.add("projectsContainer"),t.forEach((t=>{const o=document.createElement("li");o.classList.add("listContainer");const c=document.createElement("span");c.textContent=t.name,c.classList.add("project"),c.id=t.name,c.addEventListener("click",e.displayTodos);const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add("fa-circle-minus"),s.addEventListener("click",a),n.appendChild(o),o.appendChild(c),o.appendChild(s)})),n}return{deleteProject:a,createProjectsList:o}}(),n=function(){const e=[];class t{constructor(e){this.name=e,this.todos=[]}}class n{constructor(e){this.content=e}}const a=new t("Cleaning"),o=new t("Laundry"),c=new t("Shopping");e.push(a),e.push(o),e.push(c);const s=new n("Sweeping the floor."),d=new n("Vacuuming the floor."),r=new n("Washing the filter."),i=new n("Buy new necklace."),l=new n("Put clothes in washer machine."),u=new n("Put clothes in dryer.");if(a.todos.push(s),a.todos.push(d),a.todos.push(r),o.todos.push(l),o.todos.push(u),c.todos.push(i),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}())return localStorage.setItem("allProjects",JSON.stringify(e)),{Project:t,todo:n}}(),a=function(){function a(a){let o=document.getElementById("newProjectName");const c=new n.Project(o.value),s=JSON.parse(localStorage.getItem("allProjects")),d=this.closest(".projects"),r=this.closest(".projects"),i=r.children[1];var l;r.removeChild(i),s.push(c),l=s,localStorage.setItem("allProjects",JSON.stringify(l)),dataPanel.innerHTML="",i.remove(),function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById("Inbox");t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(),d.insertBefore(t.createProjectsList(),d.lastChild),dataPanel.appendChild(e.createInboxTodos()),this.closest(".modalContainer").remove()}return{addProject:function(e){this.parentElement.appendChild(function(){const e=document.createElement("div");return e.classList.add("modalContainer"),e.classList.add("fadeIn"),e.appendChild(function(){const e=document.createElement("div");e.classList.add("modal"),e.classList.add("flex");const t=document.createElement("label");t.setAttribute("for","newProjectName"),t.classList.add("label"),t.textContent="Enter the name for the project:";const n=document.createElement("input");n.id="newProjectName",n.type="text";const o=document.createElement("button");return o.classList.add("submit"),o.textContent="Submit",o.addEventListener("click",a),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}()),e}())}}}();!function(){const n=document.getElementById("content");n.appendChild(function(e){const t=document.createElement("header");t.classList.add("header");const n=document.createElement("h2");return n.textContent=e,n.classList.add("siteTitle"),t.appendChild(n),t}("JustDoIt")),n.appendChild(function(){const n=document.createElement("main"),o=function(){const e=document.createElement("div");return e.id="controlPanel",e}(),c=function(){const e=document.createElement("div");return e.id="dataPanel",e}();n.appendChild(o),n.appendChild(c);const s=function(){const t=document.createElement("div");return t.classList.add("inbox"),t.classList.add("border"),t.addEventListener("click",e.displayTodos),t}();s.appendChild(function(){const e=document.createElement("h3");return e.textContent="Inbox",e.classList.add("project"),e.classList.add("active"),e.classList.add("projectHeader"),e.id="Inbox",e}()),o.appendChild(s);const d=function(){const e=document.createElement("div");return e.classList.add("projects"),e}();return d.appendChild(function(){const e=document.createElement("h3");return e.textContent="Projects",e.classList.add("projectHeader"),e.classList.add("border"),e}()),d.appendChild(function(){const n=JSON.parse(localStorage.getItem("allProjects")),a=document.createElement("ul");return a.classList.add("projectsContainer"),n.forEach((n=>{const o=document.createElement("li");o.classList.add("listContainer");const c=document.createElement("span");c.textContent=n.name,c.classList.add("project"),c.id=n.name,c.addEventListener("click",e.displayTodos);const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add("fa-circle-minus"),s.addEventListener("click",t.deleteProject),a.appendChild(o),o.appendChild(c),o.appendChild(s)})),a}()),d.appendChild(function(){const e=document.createElement("div");e.classList.add("newProjectContainer");const t=document.createElement("button");return t.textContent="NEW PROJECT",t.classList.add("newProjectBtn"),t.addEventListener("click",a.addProject),e.appendChild(t),e}()),o.appendChild(d),n}()),dataPanel.appendChild(e.createInboxTodos()),n.appendChild(function(e){const t=document.createElement("footer");t.classList.add("footer");const n=document.createElement("p");return n.textContent=`Â© by ${e}`,n.classList.add("copyright"),t.appendChild(n),t}("Zachary Truong"))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly9qdXN0ZG9pdC8uL3NyYy9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvc2hvd1RvZG9zLmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL2RlbGV0ZVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly9qdXN0ZG9pdC8uL3NyYy9hZGRQcm9qZWN0LmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvZm9vdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNyZWF0ZUhlYWRlciA9IGZ1bmN0aW9uKHNpdGVUaXRsZSkge1xuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRlcicpO1xuXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBzaXRlVGl0bGU7XG4gIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3NpdGVUaXRsZScpO1xuXG4gIGhlYWRlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gIHJldHVybiBoZWFkZXI7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVIZWFkZXI7IiwiY29uc3Qgc2hvd1RvZG9zID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzZXRBY3RpdmVQcm9qZWN0KGUpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJvamVjdCcpKTtcbiAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtlLnRhcmdldC5pZH1gKTtcbiAgICBhbGxQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9O1xuICBmdW5jdGlvbiBjbGVhcihub2RlKSB7XG4gICAgbm9kZS5pbm5lckhUTUwgPSAnJztcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5VG9kb3MoZSkge1xuICAgIHNldEFjdGl2ZVByb2plY3QoZSk7XG4gICAgY2xlYXIoZGF0YVBhbmVsKTtcbiAgICBpZiAoZS50YXJnZXQuaWQgPT09ICdJbmJveCcpIHtcbiAgICAgIGRhdGFQYW5lbC5hcHBlbmRDaGlsZChjcmVhdGVJbmJveFRvZG9zKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhUGFuZWwuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdFRvZG9zKGUpKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGNyZWF0ZUluYm94VG9kb3MoKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGxQcm9qZWN0cycpKTtcbiAgICBjb25zdCBkYXRhQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIGRhdGFCbG9jay5jbGFzc0xpc3QuYWRkKCd0b2RvcycpO1xuICAgIGFsbFByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgcHJvamVjdC50b2Rvcy5mb3JFYWNoKCB0b2RvID0+IHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpc3QudGV4dENvbnRlbnQgPSB0b2RvLmNvbnRlbnQ7XG4gICAgICAgIGRhdGFCbG9jay5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gZGF0YUJsb2NrXG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdFRvZG9zKGUpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsbFByb2plY3RzJykpO1xuICAgIGNvbnN0IGRhdGFCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgZGF0YUJsb2NrLmNsYXNzTGlzdC5hZGQoJ3RvZG9zJyk7XG4gICAgY29uc3QgdGFyZ2V0ID0gYWxsUHJvamVjdHMuZmluZCggcHJvamVjdCA9PiBwcm9qZWN0WyduYW1lJ10gPT09IGUudGFyZ2V0LmlkKTtcbiAgICB0YXJnZXQudG9kb3MuZm9yRWFjaCggdG9kbyA9PiB7XG4gICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGxpc3QudGV4dENvbnRlbnQgPSB0b2RvLmNvbnRlbnQ7XG4gICAgICBkYXRhQmxvY2suYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgfSlcbiAgICByZXR1cm4gZGF0YUJsb2NrO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGlzcGxheVRvZG9zLCBcbiAgICBjcmVhdGVJbmJveFRvZG9zLFxuICAgIGNyZWF0ZVByb2plY3RUb2Rvc1xuICB9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBzaG93VG9kb3M7IiwiaW1wb3J0IHNob3dUb2RvcyBmcm9tIFwiLi9zaG93VG9kb3NcIjtcbmNvbnN0IGRlbGV0ZVByb2plY3QgPSAoIGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBjcmVhdGVQb3B1cCgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWxDb250YWluZXInKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmFkZUluJyk7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgIG1vZGFsLmFwcGVuZENoaWxkKGNyZWF0ZU5vdGlmaWNhdGlvblRleHQoKSk7XG4gICAgbW9kYWwuYXBwZW5kQ2hpbGQoY3JlYXRlQWN0aW9ucygpKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uVGV4dCgpIHtcbiAgICBjb25zdCBhbGVydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBhbGVydC5jbGFzc0xpc3QuYWRkKCdhbGVydCcpO1xuICAgIGFsZXJ0LnRleHRDb250ZW50ID0gJ0FyZSB5b3Ugc3VyZT8gRGVsZXRpbmcgcHJvamVjdCB3aWxsIGRlbGV0ZSBhbGwgdG9kb3MgYmVsb25nIHRvIGl0ISc7XG4gICAgcmV0dXJuIGFsZXJ0O1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbnMoKSB7XG4gICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnYWN0aW9ucycpO1xuICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoY3JlYXRlQ2FuY2VsQnRuKCkpO1xuICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoY3JlYXRlQWdyZWVCdG4oKSk7XG4gICAgcmV0dXJuIGFjdGlvbnM7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQ2FuY2VsQnRuKCkge1xuICAgIGNvbnN0IGNhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNhbmNlbC50ZXh0Q29udGVudCA9ICdObyc7XG4gICAgY2FuY2VsLmNsYXNzTGlzdC5hZGQoJ2NhbmNlbCcpO1xuICAgIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbmNlbEJ0bkFjdGlvbik7XG4gICAgcmV0dXJuIGNhbmNlbDtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVBZ3JlZUJ0bigpIHtcbiAgICBjb25zdCBhZ3JlZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGFncmVlLnRleHRDb250ZW50ID0gJ1llcyc7XG4gICAgYWdyZWUuY2xhc3NMaXN0LmFkZCgnYWdyZWUnKTtcbiAgICBhZ3JlZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFncmVlQnRuQWN0aW9uKTtcbiAgICByZXR1cm4gYWdyZWU7XG4gIH1cbiAgZnVuY3Rpb24gY2FuY2VsQnRuQWN0aW9uKGUpIHtcbiAgICBjb25zdCBtb2RhbENvbnRhaW5lciA9IHRoaXMuY2xvc2VzdCgnLm1vZGFsQ29udGFpbmVyJylcbiAgICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlSW4nKTtcbiAgICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmYWRlT3V0Jyk7XG4gICAgbW9kYWxDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgbW9kYWxDb250YWluZXIucmVtb3ZlKCk7XG4gICAgfSlcbiAgfVxuICBmdW5jdGlvbiBhZ3JlZUJ0bkFjdGlvbihlKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSByZXRyaWV2ZUxvY2FsU3RvcmFnZSgnYWxsUHJvamVjdHMnKTtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmNsb3Nlc3QoJy5saXN0Q29udGFpbmVyJyk7XG4gICAgY29uc3QgcHJvamVjdHNEaXYgPSB0aGlzLmNsb3Nlc3QoJy5wcm9qZWN0cycpO1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gdGhpcy5jbG9zZXN0KCcucHJvamVjdHNDb250YWluZXInKTtcbiAgICBjb25zdCB0YXJnZXRJbmRleCA9IGFsbFByb2plY3RzLmZpbmRJbmRleCggcHJvamVjdCA9PiBwcm9qZWN0Lm5hbWUgPT09IHBhcmVudC5maXJzdENoaWxkLmlkKTtcbiAgICBhbGxQcm9qZWN0cy5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpO1xuICAgIHVwZGF0ZUxvY2FsU3RvcmFnZShhbGxQcm9qZWN0cyk7XG4gICAgc2V0QWN0aXZlKCdJbmJveCcpO1xuICAgIGNsZWFyKGRhdGFQYW5lbCk7XG4gICAgcHJvamVjdHNDb250YWluZXIucmVtb3ZlKCk7XG4gICAgcHJvamVjdHNEaXYuaW5zZXJ0QmVmb3JlKGNyZWF0ZVByb2plY3RzTGlzdCgpLCBwcm9qZWN0c0Rpdi5sYXN0Q2hpbGQpO1xuICAgIGRhdGFQYW5lbC5hcHBlbmRDaGlsZChzaG93VG9kb3MuY3JlYXRlSW5ib3hUb2RvcygpKTtcbiAgICAoY2FuY2VsQnRuQWN0aW9uLmJpbmQodGhpcykpKCk7XG4gIH1cbiAgZnVuY3Rpb24gZGVsZXRlUHJvamVjdChlKSB7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGNyZWF0ZVBvcHVwKCkpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUxvY2FsU3RvcmFnZShkYXRhKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhbGxQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfVxuICBmdW5jdGlvbiByZXRyaWV2ZUxvY2FsU3RvcmFnZShkYXRhKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oZGF0YSkpO1xuICB9XG4gIGZ1bmN0aW9uIHNldEFjdGl2ZShpZCkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9qZWN0JykpO1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBhbGxQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9O1xuICBmdW5jdGlvbiBjbGVhcihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuaW5uZXJIVE1MID0gJyc7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHNMaXN0KCkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxsUHJvamVjdHMnKSk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHByb2plY3RzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzQ29udGFpbmVyJyk7XG4gICAgYWxsUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdENvbnRhaW5lcicpO1xuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBwcm9qZWN0WyduYW1lJ107XG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICAgIGNvbnRlbnQuaWQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1RvZG9zLmRpc3BsYXlUb2Rvcyk7XG4gICAgICBjb25zdCBkZWxldGVQcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1jaXJjbGUtbWludXMnKTtcbiAgICAgIGRlbGV0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVQcm9qZWN0KTtcbiAgICAgIHByb2plY3RzQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3QpO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoZGVsZXRlUHJvamVjdEJ0bik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb2plY3RzQ29udGFpbmVyO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGVsZXRlUHJvamVjdCxcbiAgICBjcmVhdGVQcm9qZWN0c0xpc3QsXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGRlbGV0ZVByb2plY3Q7IiwiY29uc3QgZGF0YSA9ICggZnVuY3Rpb24oKSB7XG5cbiAgY29uc3QgYWxsUHJvamVjdHMgPSBbXTtcbiAgY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgIHRoaXMudG9kb3MgPSBbXTtcbiAgICB9XG4gIH1cbiAgY2xhc3MgdG9kbyB7XG4gICAgY29uc3RydWN0b3IoY29udGVudCkge1xuICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICB9XG4gIH1cbiAgY29uc3QgY2xlYW5pbmcgPSBuZXcgUHJvamVjdCgnQ2xlYW5pbmcnKTtcbiAgY29uc3QgbGF1bmRyeSA9IG5ldyBQcm9qZWN0KCdMYXVuZHJ5Jyk7XG4gIGNvbnN0IHNob3BwaW5nID0gbmV3IFByb2plY3QoJ1Nob3BwaW5nJyk7XG4gIGFsbFByb2plY3RzLnB1c2goY2xlYW5pbmcpO1xuICBhbGxQcm9qZWN0cy5wdXNoKGxhdW5kcnkpO1xuICBhbGxQcm9qZWN0cy5wdXNoKHNob3BwaW5nKTtcblxuICBjb25zdCBzd2VlcGluZyA9IG5ldyB0b2RvKCdTd2VlcGluZyB0aGUgZmxvb3IuJyk7XG4gIGNvbnN0IHZhY3V1bSA9IG5ldyB0b2RvKCdWYWN1dW1pbmcgdGhlIGZsb29yLicpO1xuICBjb25zdCB3YXNoaW5nID0gbmV3IHRvZG8oJ1dhc2hpbmcgdGhlIGZpbHRlci4nKTtcbiAgY29uc3QgbmVja2xhY2UgPSBuZXcgdG9kbygnQnV5IG5ldyBuZWNrbGFjZS4nKTtcbiAgY29uc3Qgd2FzaCA9IG5ldyB0b2RvKCdQdXQgY2xvdGhlcyBpbiB3YXNoZXIgbWFjaGluZS4nKTtcbiAgY29uc3QgZHJ5ID0gbmV3IHRvZG8oJ1B1dCBjbG90aGVzIGluIGRyeWVyLicpO1xuICBjbGVhbmluZy50b2Rvcy5wdXNoKHN3ZWVwaW5nKTtcbiAgY2xlYW5pbmcudG9kb3MucHVzaCh2YWN1dW0pO1xuICBjbGVhbmluZy50b2Rvcy5wdXNoKHdhc2hpbmcpO1xuICBsYXVuZHJ5LnRvZG9zLnB1c2god2FzaCk7XG4gIGxhdW5kcnkudG9kb3MucHVzaChkcnkpO1xuICBzaG9wcGluZy50b2Rvcy5wdXNoKG5lY2tsYWNlKTtcblxuICBpZiAoc3RvcmFnZUF2YWlsYWJsZSgnbG9jYWxTdG9yYWdlJykpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWxsUHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0cykpO1xuICB9XG4gIGVsc2UgcmV0dXJuO1xuXG4gIGZ1bmN0aW9uIHN0b3JhZ2VBdmFpbGFibGUodHlwZSkge1xuICAgIHZhciBzdG9yYWdlO1xuICAgIHRyeSB7XG4gICAgICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4gICAgICAgIHZhciB4ID0gJ19fc3RvcmFnZV90ZXN0X18nO1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIChcbiAgICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgICAgICAgZS5jb2RlID09PSAyMiB8fFxuICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICBlLmNvZGUgPT09IDEwMTQgfHxcbiAgICAgICAgICAvLyB0ZXN0IG5hbWUgZmllbGQgdG9vLCBiZWNhdXNlIGNvZGUgbWlnaHQgbm90IGJlIHByZXNlbnRcbiAgICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgICAgICAgZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fFxuICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICBlLm5hbWUgPT09ICdOU19FUlJPUl9ET01fUVVPVEFfUkVBQ0hFRCcpICYmXG4gICAgICAgICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcbiAgICAgICAgICAoc3RvcmFnZSAmJiBzdG9yYWdlLmxlbmd0aCAhPT0gMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgcmV0dXJuIHtcbiAgICBQcm9qZWN0LFxuICAgIHRvZG8sXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGRhdGE7IiwiaW1wb3J0IGRhdGEgZnJvbSAnLi9kYXRhJztcbmltcG9ydCBkZWxldGVQcm9qZWN0IGZyb20gJy4vZGVsZXRlUHJvamVjdCc7XG5pbXBvcnQgc2hvd1RvZG9zIGZyb20gJy4vc2hvd1RvZG9zJztcbmNvbnN0IGFkZFByb2plY3QgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBhZGRQcm9qZWN0KGUpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXAoKSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUG9wdXAoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsQ29udGFpbmVyJyk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGVJbicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVOZXdQcm9qZWN0Rm9ybSgpKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU5ld1Byb2plY3RGb3JtKCkge1xuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwnKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ25ld1Byb2plY3ROYW1lJyk7XG4gICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnbGFiZWwnKTtcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9ICdFbnRlciB0aGUgbmFtZSBmb3IgdGhlIHByb2plY3Q6JztcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQuaWQgPSAnbmV3UHJvamVjdE5hbWUnO1xuICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgc3VibWl0LmNsYXNzTGlzdC5hZGQoJ3N1Ym1pdCcpO1xuICAgIHN1Ym1pdC50ZXh0Q29udGVudCA9ICdTdWJtaXQnO1xuICAgIHN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE5ld1Byb2plY3QpO1xuICAgIG1vZGFsLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgbW9kYWwuYXBwZW5kQ2hpbGQoc3VibWl0KTtcblxuICAgIHJldHVybiBtb2RhbDtcbiAgfVxuICBmdW5jdGlvbiBhZGROZXdQcm9qZWN0KGUpIHtcbiAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3UHJvamVjdE5hbWUnKTtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IGRhdGEuUHJvamVjdChpbnB1dC52YWx1ZSk7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSByZXRyaWV2ZUxvY2FsU3RvcmFnZSgnYWxsUHJvamVjdHMnKTtcbiAgICBjb25zdCBwcm9qZWN0c0RpdiA9IHRoaXMuY2xvc2VzdCgnLnByb2plY3RzJyk7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5jbG9zZXN0KCcucHJvamVjdHMnKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IHBhcmVudC5jaGlsZHJlblsxXTtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocHJvamVjdHNDb250YWluZXIpO1xuICAgIGFsbFByb2plY3RzLnB1c2gobmV3UHJvamVjdCk7XG4gICAgdXBkYXRlTG9jYWxTdG9yYWdlKGFsbFByb2plY3RzKTtcbiAgICBjbGVhcihkYXRhUGFuZWwpO1xuICAgIHByb2plY3RzQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgIHNldEFjdGl2ZSgnSW5ib3gnKTtcbiAgICBwcm9qZWN0c0Rpdi5pbnNlcnRCZWZvcmUoZGVsZXRlUHJvamVjdC5jcmVhdGVQcm9qZWN0c0xpc3QoKSwgcHJvamVjdHNEaXYubGFzdENoaWxkKTtcbiAgICBkYXRhUGFuZWwuYXBwZW5kQ2hpbGQoc2hvd1RvZG9zLmNyZWF0ZUluYm94VG9kb3MoKSk7XG4gICAgdGhpcy5jbG9zZXN0KCcubW9kYWxDb250YWluZXInKS5yZW1vdmUoKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVMb2NhbFN0b3JhZ2UoZGF0YSkge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWxsUHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH1cbiAgZnVuY3Rpb24gcmV0cmlldmVMb2NhbFN0b3JhZ2UoZGF0YSkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGRhdGEpKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRBY3RpdmUoaWQpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJvamVjdCcpKTtcbiAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgYWxsUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH0pO1xuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfTtcbiAgZnVuY3Rpb24gY2xlYXIobm9kZSkge1xuICAgIHJldHVybiBub2RlLmlubmVySFRNTCA9ICcnO1xuICB9XG4gIHJldHVybiB7XG4gICAgYWRkUHJvamVjdCxcbiAgfVxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgYWRkUHJvamVjdDsiLCJpbXBvcnQgY3JlYXRlSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiO1xuaW1wb3J0IGNyZWF0ZU1haW4gZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHNob3dUb2RvcyBmcm9tIFwiLi9zaG93VG9kb3NcIjtcbmltcG9ydCBjcmVhdGVGb290ZXIgZnJvbSBcIi4vZm9vdGVyXCI7XG5pbXBvcnQgZGF0YSBmcm9tIFwiLi9kYXRhXCI7XG5cbiggZnVuY3Rpb24gdG9kb0FwcCgpIHtcbiAgXG4gIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuXG4gIF9pbml0KCk7XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVIZWFkZXIoJ0p1c3REb0l0JykpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlTWFpbigpKTtcbiAgICBkYXRhUGFuZWwuYXBwZW5kQ2hpbGQoc2hvd1RvZG9zLmNyZWF0ZUluYm94VG9kb3MoKSk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVGb290ZXIoJ1phY2hhcnkgVHJ1b25nJykpO1xuICB9XG5cbn0pKCk7IiwiaW1wb3J0IHNob3dUb2RvcyBmcm9tIFwiLi9zaG93VG9kb3NcIjtcbmltcG9ydCBkZWxldGVQcm9qZWN0IGZyb20gXCIuL2RlbGV0ZVByb2plY3RcIjtcbmltcG9ydCBhZGRQcm9qZWN0IGZyb20gJy4vYWRkUHJvamVjdC5qcyc7XG5cbmNvbnN0IGNyZWF0ZU1haW4gPSBmdW5jdGlvbigpIHtcblxuICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWFpbicpO1xuICBjb25zdCBjb250cm9sUGFuZWwgPSBjcmVhdGVDb250cm9sUGFuZWwoKTtcbiAgY29uc3QgZGF0YVBhbmVsID0gY3JlYXRlRGF0YVBhbmVsKCk7XG4gIG1haW4uYXBwZW5kQ2hpbGQoY29udHJvbFBhbmVsKTtcbiAgbWFpbi5hcHBlbmRDaGlsZChkYXRhUGFuZWwpO1xuXG4gIGNvbnN0IGluYm94ID0gY3JlYXRlSW5ib3goKTtcbiAgaW5ib3guYXBwZW5kQ2hpbGQoY3JlYXRlSW5ib3hUaXRsZSgpKTtcbiAgY29udHJvbFBhbmVsLmFwcGVuZENoaWxkKGluYm94KTtcbiAgXG4gIGNvbnN0IHByb2plY3RzQmxvY2sgPSBjcmVhdGVQcm9qZWN0c0Jsb2NrKCk7XG4gIHByb2plY3RzQmxvY2suYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdHNUaXRsZSgpKTtcbiAgcHJvamVjdHNCbG9jay5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0c0xpc3QoKSk7XG4gIHByb2plY3RzQmxvY2suYXBwZW5kQ2hpbGQoY3JlYXRlTmV3UHJvamVjdEJ0bigpKTtcblxuICBjb250cm9sUGFuZWwuYXBwZW5kQ2hpbGQocHJvamVjdHNCbG9jayk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29udHJvbFBhbmVsKCkge1xuICAgIGNvbnN0IGNvbnRyb2xQYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRyb2xQYW5lbC5pZCA9ICdjb250cm9sUGFuZWwnO1xuICAgIHJldHVybiBjb250cm9sUGFuZWw7XG4gIH07XG4gIGZ1bmN0aW9uIGNyZWF0ZURhdGFQYW5lbCgpIHtcbiAgICBjb25zdCBkYXRhUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkYXRhUGFuZWwuaWQgPSAnZGF0YVBhbmVsJztcbiAgICByZXR1cm4gZGF0YVBhbmVsO1xuICB9O1xuICBmdW5jdGlvbiBjcmVhdGVJbmJveCgpIHtcbiAgICBjb25zdCBpbmJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGluYm94LmNsYXNzTGlzdC5hZGQoJ2luYm94Jyk7XG4gICAgaW5ib3guY2xhc3NMaXN0LmFkZCgnYm9yZGVyJyk7XG4gICAgaW5ib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93VG9kb3MuZGlzcGxheVRvZG9zKTtcbiAgICByZXR1cm4gaW5ib3g7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSW5ib3hUaXRsZSgpIHtcbiAgICBjb25zdCBpbmJveFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBpbmJveFRpdGxlLnRleHRDb250ZW50ID0gJ0luYm94JztcbiAgICBpbmJveFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICBpbmJveFRpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGluYm94VGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdEhlYWRlcicpO1xuICAgIGluYm94VGl0bGUuaWQgPSAnSW5ib3gnO1xuICAgIHJldHVybiBpbmJveFRpdGxlO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzQmxvY2soKSB7XG4gICAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9qZWN0cy5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0cycpO1xuICAgIHJldHVybiBwcm9qZWN0cztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0c1RpdGxlKCkge1xuICAgIGNvbnN0IHByb2plY3RzVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHByb2plY3RzVGl0bGUudGV4dENvbnRlbnQgPSAnUHJvamVjdHMnO1xuICAgIHByb2plY3RzVGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdEhlYWRlcicpO1xuICAgIHByb2plY3RzVGl0bGUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJyk7XG4gICAgcmV0dXJuIHByb2plY3RzVGl0bGU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHNMaXN0KCkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxsUHJvamVjdHMnKSk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHByb2plY3RzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzQ29udGFpbmVyJyk7XG4gICAgYWxsUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdENvbnRhaW5lcicpO1xuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBwcm9qZWN0WyduYW1lJ107XG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICAgIGNvbnRlbnQuaWQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1RvZG9zLmRpc3BsYXlUb2Rvcyk7XG4gICAgICBjb25zdCBkZWxldGVQcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1jaXJjbGUtbWludXMnKTtcbiAgICAgIGRlbGV0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVQcm9qZWN0LmRlbGV0ZVByb2plY3QpO1xuICAgICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0QnRuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvamVjdHNDb250YWluZXI7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdEJ0bigpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnbmV3UHJvamVjdENvbnRhaW5lcicpO1xuICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9ICdORVcgUFJPSkVDVCc7XG4gICAgYnRuLmNsYXNzTGlzdC5hZGQoJ25ld1Byb2plY3RCdG4nKTtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQcm9qZWN0LmFkZFByb2plY3QpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChidG4pO1xuICAgIHJldHVybiBkaXY7XG4gIH1cbiAgcmV0dXJuIG1haW47XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU1haW47IiwiY29uc3QgY3JlYXRlRm9vdGVyID0gZnVuY3Rpb24oYXV0aG9yKSB7XG4gIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuICBmb290ZXIuY2xhc3NMaXN0LmFkZCgnZm9vdGVyJyk7XG5cbiAgY29uc3QgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgcGFyYS50ZXh0Q29udGVudCA9IGDCqSBieSAke2F1dGhvcn1gO1xuICBwYXJhLmNsYXNzTGlzdC5hZGQoJ2NvcHlyaWdodCcpO1xuXG4gIGZvb3Rlci5hcHBlbmRDaGlsZChwYXJhKTtcbiAgcmV0dXJuIGZvb3Rlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUZvb3RlcjsiXSwibmFtZXMiOlsiY3JlYXRlSW5ib3hUb2RvcyIsImFsbFByb2plY3RzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRhdGFCbG9jayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImZvckVhY2giLCJwcm9qZWN0IiwidG9kb3MiLCJ0b2RvIiwibGlzdCIsInRleHRDb250ZW50IiwiY29udGVudCIsImFwcGVuZENoaWxkIiwiY3JlYXRlUHJvamVjdFRvZG9zIiwiZSIsImZpbmQiLCJ0YXJnZXQiLCJpZCIsImRpc3BsYXlUb2RvcyIsIkFycmF5IiwiZnJvbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsInNldEFjdGl2ZVByb2plY3QiLCJkYXRhUGFuZWwiLCJpbm5lckhUTUwiLCJjYW5jZWxCdG5BY3Rpb24iLCJtb2RhbENvbnRhaW5lciIsInRoaXMiLCJjbG9zZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFncmVlQnRuQWN0aW9uIiwicGFyZW50IiwicHJvamVjdHNEaXYiLCJwcm9qZWN0c0NvbnRhaW5lciIsInRhcmdldEluZGV4IiwiZmluZEluZGV4IiwibmFtZSIsImZpcnN0Q2hpbGQiLCJkYXRhIiwic3BsaWNlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNldEFjdGl2ZSIsImluc2VydEJlZm9yZSIsImNyZWF0ZVByb2plY3RzTGlzdCIsImxhc3RDaGlsZCIsImJpbmQiLCJkZWxldGVQcm9qZWN0IiwicGFyZW50RWxlbWVudCIsImNvbnRhaW5lciIsIm1vZGFsIiwiYWxlcnQiLCJjcmVhdGVOb3RpZmljYXRpb25UZXh0IiwiYWN0aW9ucyIsImNhbmNlbCIsImNyZWF0ZUNhbmNlbEJ0biIsImFncmVlIiwiY3JlYXRlQWdyZWVCdG4iLCJjcmVhdGVBY3Rpb25zIiwiY3JlYXRlUG9wdXAiLCJkZWxldGVQcm9qZWN0QnRuIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwiY2xlYW5pbmciLCJsYXVuZHJ5Iiwic2hvcHBpbmciLCJwdXNoIiwic3dlZXBpbmciLCJ2YWN1dW0iLCJ3YXNoaW5nIiwibmVja2xhY2UiLCJ3YXNoIiwiZHJ5IiwidHlwZSIsInN0b3JhZ2UiLCJ3aW5kb3ciLCJ4IiwicmVtb3ZlSXRlbSIsIkRPTUV4Y2VwdGlvbiIsImNvZGUiLCJsZW5ndGgiLCJzdG9yYWdlQXZhaWxhYmxlIiwiYWRkTmV3UHJvamVjdCIsImlucHV0IiwibmV3UHJvamVjdCIsInZhbHVlIiwiY2hpbGRyZW4iLCJyZW1vdmVDaGlsZCIsImFkZFByb2plY3QiLCJsYWJlbCIsInNldEF0dHJpYnV0ZSIsInN1Ym1pdCIsImNyZWF0ZU5ld1Byb2plY3RGb3JtIiwic2l0ZVRpdGxlIiwiaGVhZGVyIiwidGl0bGUiLCJtYWluIiwiY29udHJvbFBhbmVsIiwiY3JlYXRlQ29udHJvbFBhbmVsIiwiY3JlYXRlRGF0YVBhbmVsIiwiaW5ib3giLCJjcmVhdGVJbmJveCIsImluYm94VGl0bGUiLCJjcmVhdGVJbmJveFRpdGxlIiwicHJvamVjdHNCbG9jayIsInByb2plY3RzIiwiY3JlYXRlUHJvamVjdHNCbG9jayIsInByb2plY3RzVGl0bGUiLCJjcmVhdGVQcm9qZWN0c1RpdGxlIiwiZGl2IiwiYnRuIiwiY3JlYXRlTmV3UHJvamVjdEJ0biIsImF1dGhvciIsImZvb3RlciIsInBhcmEiXSwic291cmNlUm9vdCI6IiJ9