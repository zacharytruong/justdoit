(()=>{var e={471:()=>{!function(){const e=[];class t{constructor(e,t){this.name=e,this.todos=t}}class n{constructor(e){this.content=e}}const o=new t("Cleaning",[]),a=new t("Laundry",[]),c=new t("Shopping",[]);e.push(o),e.push(a),e.push(c);const s=new n("Sweeping the floor."),d=new n("Vacuuming the floor."),r=new n("Washing the filter."),i=new n("Buy new necklace."),l=new n("Put clothes in washer machine."),u=new n("Put clothes in dryer.");o.todos.push(s),o.todos.push(d),o.todos.push(r),a.todos.push(l),a.todos.push(u),c.todos.push(i),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()&&localStorage.setItem("allProjects",JSON.stringify(e))}()}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}(()=>{"use strict";const e=function(){function e(){const e=JSON.parse(localStorage.getItem("allProjects")),t=document.createElement("ul");return t.classList.add("todos"),e.forEach((e=>{e.todos.forEach((e=>{const n=document.createElement("li");n.textContent=e.content,t.appendChild(n)}))})),t}function t(e){const t=JSON.parse(localStorage.getItem("allProjects")),n=document.createElement("ul");return n.classList.add("todos"),t.find((t=>t.name===e.target.id)).todos.forEach((e=>{const t=document.createElement("li");t.textContent=e.content,n.appendChild(t)})),n}return{displayTodos:function(n){!function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById(`${e.target.id}`);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(n),dataPanel.innerHTML="","Inbox"===n.target.id?dataPanel.appendChild(e()):dataPanel.appendChild(t(n))},createInboxTodos:e,createProjectTodos:t}}(),t=function(){function t(e){const t=this.closest(".modalContainer");t.classList.remove("fadeIn"),t.classList.add("fadeOut"),t.addEventListener("animationend",(()=>{t.remove()}))}function n(n){const a=JSON.parse(localStorage.getItem("allProjects")),c=this.closest(".listContainer"),s=this.closest(".projects"),d=this.closest(".projectsContainer"),r=a.findIndex((e=>e.name===c.firstChild.id));var i;a.splice(r,1),i=a,localStorage.setItem("allProjects",JSON.stringify(i)),function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById("Inbox");t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(),dataPanel.innerHTML="",d.remove(),s.appendChild(function(){const t=JSON.parse(localStorage.getItem("allProjects")),n=document.createElement("ul");return n.classList.add("projectsContainer"),t.forEach((t=>{const a=document.createElement("li");a.classList.add("listContainer");const c=document.createElement("span");c.textContent=t.name,c.classList.add("project"),c.id=t.name,c.addEventListener("click",e.displayTodos);const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add("fa-circle-minus"),s.addEventListener("click",o),n.appendChild(a),a.appendChild(c),a.appendChild(s)})),n}()),dataPanel.appendChild(e.createInboxTodos()),t.bind(this)()}function o(e){this.parentElement.appendChild(function(){const e=document.createElement("div");e.classList.add("modalContainer"),e.classList.add("fadeIn");const o=document.createElement("div");return o.classList.add("modal"),o.appendChild(function(){const e=document.createElement("p");return e.classList.add("alert"),e.textContent="Are you sure? Deleting project will delete all todos belong to it!",e}()),o.appendChild(function(){const e=document.createElement("div");return e.classList.add("actions"),e.appendChild(function(){const e=document.createElement("button");return e.textContent="No",e.classList.add("cancel"),e.addEventListener("click",t),e}()),e.appendChild(function(){const e=document.createElement("button");return e.textContent="Yes",e.classList.add("agree"),e.addEventListener("click",n),e}()),e}()),e.appendChild(o),e}())}return{deleteProject:o}}();n(471),function(){const n=document.getElementById("content");n.appendChild(function(e){const t=document.createElement("header");t.classList.add("header");const n=document.createElement("h2");return n.textContent=e,n.classList.add("siteTitle"),t.appendChild(n),t}("JustDoIt")),n.appendChild(function(){const n=document.createElement("main"),o=function(){const e=document.createElement("div");return e.id="controlPanel",e}(),a=function(){const e=document.createElement("div");return e.id="dataPanel",e}();n.appendChild(o),n.appendChild(a);const c=function(){const t=document.createElement("div");return t.classList.add("inbox"),t.classList.add("border"),t.addEventListener("click",e.displayTodos),t}();c.appendChild(function(){const e=document.createElement("h3");return e.textContent="Inbox",e.classList.add("project"),e.classList.add("active"),e.classList.add("projectHeader"),e.id="Inbox",e}()),o.appendChild(c);const s=function(){const e=document.createElement("div");return e.classList.add("projects"),e}();return s.appendChild(function(){const e=document.createElement("h3");return e.textContent="Projects",e.classList.add("projectHeader"),e.classList.add("border"),e}()),s.appendChild(function(){const n=JSON.parse(localStorage.getItem("allProjects")),o=document.createElement("ul");return o.classList.add("projectsContainer"),n.forEach((n=>{const a=document.createElement("li");a.classList.add("listContainer");const c=document.createElement("span");c.textContent=n.name,c.classList.add("project"),c.id=n.name,c.addEventListener("click",e.displayTodos);const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add("fa-circle-minus"),s.addEventListener("click",t.deleteProject),o.appendChild(a),a.appendChild(c),a.appendChild(s)})),o}()),s.appendChild(function(){const e=document.createElement("div");e.classList.add("newProjectContainer");const t=document.createElement("button");return t.textContent="NEW PROJECT",t.classList.add("newProjectBtn"),e.appendChild(t),e}()),o.appendChild(s),n}()),dataPanel.appendChild(e.createInboxTodos()),n.appendChild(function(e){const t=document.createElement("footer");t.classList.add("footer");const n=document.createElement("p");return n.textContent=`Â© by ${e}`,n.classList.add("copyright"),t.appendChild(n),t}("Zachary Truong"))}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTLGdCQUNsQyxNQUFNVyxFQUFtQnBDLFNBQVNDLGNBQWMsS0FDaERtQyxFQUFpQmxDLFVBQVVDLElBQUksWUFDL0JpQyxFQUFpQmxDLFVBQVVDLElBQUksbUJBQy9CaUMsRUFBaUJYLGlCQUFpQixRQUFTLEVBQUFZLGVBQzNDUixFQUFrQnJCLFlBQVlGLEdBQzlCQSxFQUFLRSxZQUFZN0MsR0FDakIyQyxFQUFLRSxZQUFZNEIsTUFFWlAsRUEvRGlCUyxJQUMxQnlCLEVBQWN2RCxZQWdFZCxXQUNFLE1BQU00RCxFQUFNcEUsU0FBU0MsY0FBYyxPQUNuQ21FLEVBQUlsRSxVQUFVQyxJQUFJLHVCQUNsQixNQUFNa0UsRUFBTXJFLFNBQVNDLGNBQWMsVUFJbkMsT0FIQW9FLEVBQUk5RCxZQUFjLGNBQ2xCOEQsRUFBSW5FLFVBQVVDLElBQUksaUJBQ2xCaUUsRUFBSTVELFlBQVk2RCxHQUNURCxFQXZFaUJFLElBRTFCZCxFQUFhaEQsWUFBWXVELEdBdUVsQlIsRUQ3RWUsSUFDcEJuQyxVQUFVWixZQUFZLHNCQUN0QjdDLEVBQVE2QyxZRWhCUyxTQUFTK0QsR0FDNUIsTUFBTUMsRUFBU3hFLFNBQVNDLGNBQWMsVUFDdEN1RSxFQUFPdEUsVUFBVUMsSUFBSSxVQUVyQixNQUFNc0UsRUFBT3pFLFNBQVNDLGNBQWMsS0FLcEMsT0FKQXdFLEVBQUtsRSxZQUFjLFFBQVFnRSxJQUMzQkUsRUFBS3ZFLFVBQVVDLElBQUksYUFFbkJxRSxFQUFPaEUsWUFBWWlFLEdBQ1pELEVGT2UsQ0FBYSxtQkFWckMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL2RhdGEuanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvaGVhZGVyLmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL3Nob3dUb2Rvcy5qcyIsIndlYnBhY2s6Ly9qdXN0ZG9pdC8uL3NyYy9kZWxldGVQcm9qZWN0LmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvZm9vdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRhdGEgPSAoIGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IGFsbFByb2plY3RzID0gW107XG4gIGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRvZG9zKSB7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy50b2RvcyA9IHRvZG9zO1xuICAgIH1cbiAgfVxuICBjbGFzcyB0b2RvIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50KSB7XG4gICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIH1cbiAgfVxuICBjb25zdCBjbGVhbmluZyA9IG5ldyBQcm9qZWN0KCdDbGVhbmluZycsIFtdKTtcbiAgY29uc3QgbGF1bmRyeSA9IG5ldyBQcm9qZWN0KCdMYXVuZHJ5JywgW10pO1xuICBjb25zdCBzaG9wcGluZyA9IG5ldyBQcm9qZWN0KCdTaG9wcGluZycsIFtdKTtcbiAgYWxsUHJvamVjdHMucHVzaChjbGVhbmluZyk7XG4gIGFsbFByb2plY3RzLnB1c2gobGF1bmRyeSk7XG4gIGFsbFByb2plY3RzLnB1c2goc2hvcHBpbmcpO1xuXG4gIGNvbnN0IHN3ZWVwaW5nID0gbmV3IHRvZG8oJ1N3ZWVwaW5nIHRoZSBmbG9vci4nKTtcbiAgY29uc3QgdmFjdXVtID0gbmV3IHRvZG8oJ1ZhY3V1bWluZyB0aGUgZmxvb3IuJyk7XG4gIGNvbnN0IHdhc2hpbmcgPSBuZXcgdG9kbygnV2FzaGluZyB0aGUgZmlsdGVyLicpO1xuICBjb25zdCBuZWNrbGFjZSA9IG5ldyB0b2RvKCdCdXkgbmV3IG5lY2tsYWNlLicpO1xuICBjb25zdCB3YXNoID0gbmV3IHRvZG8oJ1B1dCBjbG90aGVzIGluIHdhc2hlciBtYWNoaW5lLicpO1xuICBjb25zdCBkcnkgPSBuZXcgdG9kbygnUHV0IGNsb3RoZXMgaW4gZHJ5ZXIuJyk7XG4gIGNsZWFuaW5nLnRvZG9zLnB1c2goc3dlZXBpbmcpO1xuICBjbGVhbmluZy50b2Rvcy5wdXNoKHZhY3V1bSk7XG4gIGNsZWFuaW5nLnRvZG9zLnB1c2god2FzaGluZyk7XG4gIGxhdW5kcnkudG9kb3MucHVzaCh3YXNoKTtcbiAgbGF1bmRyeS50b2Rvcy5wdXNoKGRyeSk7XG4gIHNob3BwaW5nLnRvZG9zLnB1c2gobmVja2xhY2UpO1xuXG4gIGlmIChzdG9yYWdlQXZhaWxhYmxlKCdsb2NhbFN0b3JhZ2UnKSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhbGxQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGFsbFByb2plY3RzKSk7XG4gIH1cbiAgZWxzZSByZXR1cm47XG5cbiAgZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7XG4gICAgdmFyIHN0b3JhZ2U7XG4gICAgdHJ5IHtcbiAgICAgICAgc3RvcmFnZSA9IHdpbmRvd1t0eXBlXTtcbiAgICAgICAgdmFyIHggPSAnX19zdG9yYWdlX3Rlc3RfXyc7XG4gICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KTtcbiAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgKFxuICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxuICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxuICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICBlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykgJiZcbiAgICAgICAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxuICAgICAgICAgIChzdG9yYWdlICYmIHN0b3JhZ2UubGVuZ3RoICE9PSAwKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiY29uc3QgY3JlYXRlSGVhZGVyID0gZnVuY3Rpb24oc2l0ZVRpdGxlKSB7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xuICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyJyk7XG5cbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICB0aXRsZS50ZXh0Q29udGVudCA9IHNpdGVUaXRsZTtcbiAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnc2l0ZVRpdGxlJyk7XG5cbiAgaGVhZGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgcmV0dXJuIGhlYWRlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUhlYWRlcjsiLCJjb25zdCBzaG93VG9kb3MgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNldEFjdGl2ZVByb2plY3QoZSkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9qZWN0JykpO1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2UudGFyZ2V0LmlkfWApO1xuICAgIGFsbFByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH07XG4gIGZ1bmN0aW9uIGNsZWFyKG5vZGUpIHtcbiAgICBub2RlLmlubmVySFRNTCA9ICcnO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlUb2RvcyhlKSB7XG4gICAgc2V0QWN0aXZlUHJvamVjdChlKTtcbiAgICBjbGVhcihkYXRhUGFuZWwpO1xuICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ0luYm94Jykge1xuICAgICAgZGF0YVBhbmVsLmFwcGVuZENoaWxkKGNyZWF0ZUluYm94VG9kb3MoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFQYW5lbC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0VG9kb3MoZSkpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gY3JlYXRlSW5ib3hUb2RvcygpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsbFByb2plY3RzJykpO1xuICAgIGNvbnN0IGRhdGFCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgZGF0YUJsb2NrLmNsYXNzTGlzdC5hZGQoJ3RvZG9zJyk7XG4gICAgYWxsUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICBwcm9qZWN0LnRvZG9zLmZvckVhY2goIHRvZG8gPT4ge1xuICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGlzdC50ZXh0Q29udGVudCA9IHRvZG8uY29udGVudDtcbiAgICAgICAgZGF0YUJsb2NrLmFwcGVuZENoaWxkKGxpc3QpO1xuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBkYXRhQmxvY2tcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0VG9kb3MoZSkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxsUHJvamVjdHMnKSk7XG4gICAgY29uc3QgZGF0YUJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBkYXRhQmxvY2suY2xhc3NMaXN0LmFkZCgndG9kb3MnKTtcbiAgICBjb25zdCB0YXJnZXQgPSBhbGxQcm9qZWN0cy5maW5kKCBwcm9qZWN0ID0+IHByb2plY3RbJ25hbWUnXSA9PT0gZS50YXJnZXQuaWQpO1xuICAgIHRhcmdldC50b2Rvcy5mb3JFYWNoKCB0b2RvID0+IHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGlzdC50ZXh0Q29udGVudCA9IHRvZG8uY29udGVudDtcbiAgICAgIGRhdGFCbG9jay5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICB9KVxuICAgIHJldHVybiBkYXRhQmxvY2s7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5VG9kb3MsIFxuICAgIGNyZWF0ZUluYm94VG9kb3MsXG4gICAgY3JlYXRlUHJvamVjdFRvZG9zXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHNob3dUb2RvczsiLCJpbXBvcnQgc2hvd1RvZG9zIGZyb20gXCIuL3Nob3dUb2Rvc1wiO1xuY29uc3QgZGVsZXRlUHJvamVjdCA9ICggZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZVBvcHVwKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbENvbnRhaW5lcicpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmYWRlSW4nKTtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgbW9kYWwuYXBwZW5kQ2hpbGQoY3JlYXRlTm90aWZpY2F0aW9uVGV4dCgpKTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChjcmVhdGVBY3Rpb25zKCkpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbCk7XG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb25UZXh0KCkge1xuICAgIGNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGFsZXJ0LmNsYXNzTGlzdC5hZGQoJ2FsZXJ0Jyk7XG4gICAgYWxlcnQudGV4dENvbnRlbnQgPSAnQXJlIHlvdSBzdXJlPyBEZWxldGluZyBwcm9qZWN0IHdpbGwgZGVsZXRlIGFsbCB0b2RvcyBiZWxvbmcgdG8gaXQhJztcbiAgICByZXR1cm4gYWxlcnQ7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQWN0aW9ucygpIHtcbiAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdhY3Rpb25zJyk7XG4gICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjcmVhdGVDYW5jZWxCdG4oKSk7XG4gICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjcmVhdGVBZ3JlZUJ0bigpKTtcbiAgICByZXR1cm4gYWN0aW9ucztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVDYW5jZWxCdG4oKSB7XG4gICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY2FuY2VsLnRleHRDb250ZW50ID0gJ05vJztcbiAgICBjYW5jZWwuY2xhc3NMaXN0LmFkZCgnY2FuY2VsJyk7XG4gICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FuY2VsQnRuQWN0aW9uKTtcbiAgICByZXR1cm4gY2FuY2VsO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFncmVlQnRuKCkge1xuICAgIGNvbnN0IGFncmVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWdyZWUudGV4dENvbnRlbnQgPSAnWWVzJztcbiAgICBhZ3JlZS5jbGFzc0xpc3QuYWRkKCdhZ3JlZScpO1xuICAgIGFncmVlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWdyZWVCdG5BY3Rpb24pO1xuICAgIHJldHVybiBhZ3JlZTtcbiAgfVxuICBmdW5jdGlvbiBjYW5jZWxCdG5BY3Rpb24oZSkge1xuICAgIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gdGhpcy5jbG9zZXN0KCcubW9kYWxDb250YWluZXInKVxuICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGVJbicpO1xuICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGVPdXQnKTtcbiAgICBtb2RhbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XG4gICAgICBtb2RhbENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9KVxuICB9XG4gIGZ1bmN0aW9uIGFncmVlQnRuQWN0aW9uKGUpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IHJldHJpZXZlTG9jYWxTdG9yYWdlKCdhbGxQcm9qZWN0cycpO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuY2xvc2VzdCgnLmxpc3RDb250YWluZXInKTtcbiAgICBjb25zdCBwcm9qZWN0c0RpdiA9IHRoaXMuY2xvc2VzdCgnLnByb2plY3RzJyk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSB0aGlzLmNsb3Nlc3QoJy5wcm9qZWN0c0NvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRhcmdldEluZGV4ID0gYWxsUHJvamVjdHMuZmluZEluZGV4KCBwcm9qZWN0ID0+IHByb2plY3QubmFtZSA9PT0gcGFyZW50LmZpcnN0Q2hpbGQuaWQpO1xuICAgIGFsbFByb2plY3RzLnNwbGljZSh0YXJnZXRJbmRleCwgMSk7XG4gICAgdXBkYXRlTG9jYWxTdG9yYWdlKGFsbFByb2plY3RzKTtcbiAgICBzZXRBY3RpdmUoJ0luYm94Jyk7XG4gICAgY2xlYXIoZGF0YVBhbmVsKTtcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICBwcm9qZWN0c0Rpdi5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0c0xpc3QoKSk7XG4gICAgZGF0YVBhbmVsLmFwcGVuZENoaWxkKHNob3dUb2Rvcy5jcmVhdGVJbmJveFRvZG9zKCkpO1xuICAgIChjYW5jZWxCdG5BY3Rpb24uYmluZCh0aGlzKSkoKTtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVQcm9qZWN0KGUpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXAoKSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYWxTdG9yYWdlKGRhdGEpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FsbFByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICB9XG4gIGZ1bmN0aW9uIHJldHJpZXZlTG9jYWxTdG9yYWdlKGRhdGEpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShkYXRhKSk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0QWN0aXZlKGlkKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Byb2plY3QnKSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGFsbFByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH07XG4gIGZ1bmN0aW9uIGNsZWFyKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5pbm5lckhUTUwgPSAnJztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0c0xpc3QoKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGxQcm9qZWN0cycpKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgcHJvamVjdHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvamVjdHNDb250YWluZXInKTtcbiAgICBhbGxQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKCdsaXN0Q29udGFpbmVyJyk7XG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgY29udGVudC50ZXh0Q29udGVudCA9IHByb2plY3RbJ25hbWUnXTtcbiAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xuICAgICAgY29udGVudC5pZCA9IHByb2plY3QubmFtZTtcbiAgICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93VG9kb3MuZGlzcGxheVRvZG9zKTtcbiAgICAgIGNvbnN0IGRlbGV0ZVByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICBkZWxldGVQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJyk7XG4gICAgICBkZWxldGVQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLWNpcmNsZS1taW51cycpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVByb2plY3QpO1xuICAgICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0QnRuKTtcbiAgICAgIFxuICAgIH0pO1xuICAgIHJldHVybiBwcm9qZWN0c0NvbnRhaW5lcjtcbiAgfVxuICByZXR1cm4ge1xuICAgIGRlbGV0ZVByb2plY3QsXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGRlbGV0ZVByb2plY3Q7IiwiaW1wb3J0IGNyZWF0ZUhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIjtcbmltcG9ydCBjcmVhdGVNYWluIGZyb20gXCIuL21haW5cIjtcbmltcG9ydCBzaG93VG9kb3MgZnJvbSBcIi4vc2hvd1RvZG9zXCI7XG5pbXBvcnQgY3JlYXRlRm9vdGVyIGZyb20gXCIuL2Zvb3RlclwiO1xuaW1wb3J0IGRhdGEgZnJvbSBcIi4vZGF0YVwiO1xuXG4oIGZ1bmN0aW9uIHRvZG9BcHAoKSB7XG4gIFxuICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcblxuICBfaW5pdCgpO1xuXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlSGVhZGVyKCdKdXN0RG9JdCcpKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZU1haW4oKSk7XG4gICAgZGF0YVBhbmVsLmFwcGVuZENoaWxkKHNob3dUb2Rvcy5jcmVhdGVJbmJveFRvZG9zKCkpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRm9vdGVyKCdaYWNoYXJ5IFRydW9uZycpKTtcbiAgfVxuXG59KSgpOyIsImltcG9ydCBzaG93VG9kb3MgZnJvbSBcIi4vc2hvd1RvZG9zXCI7XG5pbXBvcnQgZGVsZXRlUHJvamVjdCBmcm9tIFwiLi9kZWxldGVQcm9qZWN0XCI7XG5cbmNvbnN0IGNyZWF0ZU1haW4gPSBmdW5jdGlvbigpIHtcblxuICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWFpbicpO1xuICBjb25zdCBjb250cm9sUGFuZWwgPSBjcmVhdGVDb250cm9sUGFuZWwoKTtcbiAgY29uc3QgZGF0YVBhbmVsID0gY3JlYXRlRGF0YVBhbmVsKCk7XG4gIG1haW4uYXBwZW5kQ2hpbGQoY29udHJvbFBhbmVsKTtcbiAgbWFpbi5hcHBlbmRDaGlsZChkYXRhUGFuZWwpO1xuXG4gIGNvbnN0IGluYm94ID0gY3JlYXRlSW5ib3goKTtcbiAgaW5ib3guYXBwZW5kQ2hpbGQoY3JlYXRlSW5ib3hUaXRsZSgpKTtcbiAgY29udHJvbFBhbmVsLmFwcGVuZENoaWxkKGluYm94KTtcbiAgXG4gIGNvbnN0IHByb2plY3RzQmxvY2sgPSBjcmVhdGVQcm9qZWN0c0Jsb2NrKCk7XG4gIHByb2plY3RzQmxvY2suYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdHNUaXRsZSgpKTtcbiAgcHJvamVjdHNCbG9jay5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0c0xpc3QoKSk7XG4gIHByb2plY3RzQmxvY2suYXBwZW5kQ2hpbGQoY3JlYXRlTmV3UHJvamVjdEJ0bigpKTtcblxuICBjb250cm9sUGFuZWwuYXBwZW5kQ2hpbGQocHJvamVjdHNCbG9jayk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29udHJvbFBhbmVsKCkge1xuICAgIGNvbnN0IGNvbnRyb2xQYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRyb2xQYW5lbC5pZCA9ICdjb250cm9sUGFuZWwnO1xuICAgIHJldHVybiBjb250cm9sUGFuZWw7XG4gIH07XG4gIGZ1bmN0aW9uIGNyZWF0ZURhdGFQYW5lbCgpIHtcbiAgICBjb25zdCBkYXRhUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkYXRhUGFuZWwuaWQgPSAnZGF0YVBhbmVsJztcbiAgICByZXR1cm4gZGF0YVBhbmVsO1xuICB9O1xuICBmdW5jdGlvbiBjcmVhdGVJbmJveCgpIHtcbiAgICBjb25zdCBpbmJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGluYm94LmNsYXNzTGlzdC5hZGQoJ2luYm94Jyk7XG4gICAgaW5ib3guY2xhc3NMaXN0LmFkZCgnYm9yZGVyJyk7XG4gICAgaW5ib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93VG9kb3MuZGlzcGxheVRvZG9zKTtcbiAgICByZXR1cm4gaW5ib3g7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSW5ib3hUaXRsZSgpIHtcbiAgICBjb25zdCBpbmJveFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBpbmJveFRpdGxlLnRleHRDb250ZW50ID0gJ0luYm94JztcbiAgICBpbmJveFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICBpbmJveFRpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGluYm94VGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdEhlYWRlcicpO1xuICAgIGluYm94VGl0bGUuaWQgPSAnSW5ib3gnO1xuICAgIHJldHVybiBpbmJveFRpdGxlO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzQmxvY2soKSB7XG4gICAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcm9qZWN0cy5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0cycpO1xuICAgIHJldHVybiBwcm9qZWN0cztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0c1RpdGxlKCkge1xuICAgIGNvbnN0IHByb2plY3RzVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHByb2plY3RzVGl0bGUudGV4dENvbnRlbnQgPSAnUHJvamVjdHMnO1xuICAgIHByb2plY3RzVGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdEhlYWRlcicpO1xuICAgIHByb2plY3RzVGl0bGUuY2xhc3NMaXN0LmFkZCgnYm9yZGVyJyk7XG4gICAgcmV0dXJuIHByb2plY3RzVGl0bGU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHNMaXN0KCkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxsUHJvamVjdHMnKSk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHByb2plY3RzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzQ29udGFpbmVyJyk7XG4gICAgYWxsUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdENvbnRhaW5lcicpO1xuICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBwcm9qZWN0WyduYW1lJ107XG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICAgIGNvbnRlbnQuaWQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1RvZG9zLmRpc3BsYXlUb2Rvcyk7XG4gICAgICBjb25zdCBkZWxldGVQcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1jaXJjbGUtbWludXMnKTtcbiAgICAgIGRlbGV0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVQcm9qZWN0LmRlbGV0ZVByb2plY3QpO1xuICAgICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0QnRuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvamVjdHNDb250YWluZXI7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdEJ0bigpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnbmV3UHJvamVjdENvbnRhaW5lcicpO1xuICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9ICdORVcgUFJPSkVDVCc7XG4gICAgYnRuLmNsYXNzTGlzdC5hZGQoJ25ld1Byb2plY3RCdG4nKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoYnRuKTtcbiAgICByZXR1cm4gZGl2O1xuICB9XG4gIHJldHVybiBtYWluO1xuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVNYWluOyIsImNvbnN0IGNyZWF0ZUZvb3RlciA9IGZ1bmN0aW9uKGF1dGhvcikge1xuICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb290ZXInKTtcbiAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2Zvb3RlcicpO1xuXG4gIGNvbnN0IHBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHBhcmEudGV4dENvbnRlbnQgPSBgwqkgYnkgJHthdXRob3J9YDtcbiAgcGFyYS5jbGFzc0xpc3QuYWRkKCdjb3B5cmlnaHQnKTtcblxuICBmb290ZXIuYXBwZW5kQ2hpbGQocGFyYSk7XG4gIHJldHVybiBmb290ZXI7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVGb290ZXI7Il0sIm5hbWVzIjpbImFsbFByb2plY3RzIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRvZG9zIiwidGhpcyIsInRvZG8iLCJjb250ZW50IiwiY2xlYW5pbmciLCJsYXVuZHJ5Iiwic2hvcHBpbmciLCJwdXNoIiwic3dlZXBpbmciLCJ2YWN1dW0iLCJ3YXNoaW5nIiwibmVja2xhY2UiLCJ3YXNoIiwiZHJ5IiwidHlwZSIsInN0b3JhZ2UiLCJ3aW5kb3ciLCJ4Iiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJlIiwiRE9NRXhjZXB0aW9uIiwiY29kZSIsImxlbmd0aCIsInN0b3JhZ2VBdmFpbGFibGUiLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjcmVhdGVJbmJveFRvZG9zIiwicGFyc2UiLCJnZXRJdGVtIiwiZGF0YUJsb2NrIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZm9yRWFjaCIsInByb2plY3QiLCJsaXN0IiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVByb2plY3RUb2RvcyIsImZpbmQiLCJ0YXJnZXQiLCJpZCIsImRpc3BsYXlUb2RvcyIsIkFycmF5IiwiZnJvbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsInNldEFjdGl2ZVByb2plY3QiLCJkYXRhUGFuZWwiLCJpbm5lckhUTUwiLCJjYW5jZWxCdG5BY3Rpb24iLCJtb2RhbENvbnRhaW5lciIsImNsb3Nlc3QiLCJhZGRFdmVudExpc3RlbmVyIiwiYWdyZWVCdG5BY3Rpb24iLCJwYXJlbnQiLCJwcm9qZWN0c0RpdiIsInByb2plY3RzQ29udGFpbmVyIiwidGFyZ2V0SW5kZXgiLCJmaW5kSW5kZXgiLCJmaXJzdENoaWxkIiwiZGF0YSIsInNwbGljZSIsInNldEFjdGl2ZSIsImRlbGV0ZVByb2plY3RCdG4iLCJkZWxldGVQcm9qZWN0IiwiY3JlYXRlUHJvamVjdHNMaXN0IiwiYmluZCIsInBhcmVudEVsZW1lbnQiLCJjb250YWluZXIiLCJtb2RhbCIsImFsZXJ0IiwiY3JlYXRlTm90aWZpY2F0aW9uVGV4dCIsImFjdGlvbnMiLCJjYW5jZWwiLCJjcmVhdGVDYW5jZWxCdG4iLCJhZ3JlZSIsImNyZWF0ZUFncmVlQnRuIiwiY3JlYXRlQWN0aW9ucyIsImNyZWF0ZVBvcHVwIiwic2l0ZVRpdGxlIiwiaGVhZGVyIiwidGl0bGUiLCJtYWluIiwiY29udHJvbFBhbmVsIiwiY3JlYXRlQ29udHJvbFBhbmVsIiwiY3JlYXRlRGF0YVBhbmVsIiwiaW5ib3giLCJjcmVhdGVJbmJveCIsImluYm94VGl0bGUiLCJjcmVhdGVJbmJveFRpdGxlIiwicHJvamVjdHNCbG9jayIsInByb2plY3RzIiwiY3JlYXRlUHJvamVjdHNCbG9jayIsInByb2plY3RzVGl0bGUiLCJjcmVhdGVQcm9qZWN0c1RpdGxlIiwiZGl2IiwiYnRuIiwiY3JlYXRlTmV3UHJvamVjdEJ0biIsImF1dGhvciIsImZvb3RlciIsInBhcmEiXSwic291cmNlUm9vdCI6IiJ9