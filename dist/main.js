(()=>{"use strict";const e=function(){function e(){const e=JSON.parse(localStorage.getItem("allProjects")),t=document.createElement("ul");return t.classList.add("todos"),e.forEach((e=>{e.todos.forEach((e=>{const n=document.createElement("li");n.textContent=e.content,t.appendChild(n)}))})),t}function t(e){const t=JSON.parse(localStorage.getItem("allProjects")),n=document.createElement("ul");return n.classList.add("todos"),t.find((t=>t.name===e.target.id)).todos.forEach((e=>{document.createElement("i").classList.add("fa-thin");const t=document.createElement("li");t.textContent=e.content,n.appendChild(t)})),n}return{displayTodos:function(n){!function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById(`${e.target.id}`);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(n),dataPanel.innerHTML="","Inbox"===n.target.id?dataPanel.appendChild(e()):dataPanel.appendChild(t(n))},createInboxTodos:e,createProjectTodos:t}}(),t=function(){function t(e){const t=this.closest(".modalContainer");t.classList.remove("fadeIn"),t.classList.add("fadeOut"),t.addEventListener("animationend",(()=>{t.remove()}))}function n(n){const a=JSON.parse(localStorage.getItem("allProjects")),c=this.closest(".listContainer"),s=this.closest(".projects"),d=this.closest(".projectsContainer"),i=a.findIndex((e=>e.name===c.firstChild.id));var r;a.splice(i,1),r=a,localStorage.setItem("allProjects",JSON.stringify(r)),function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById("Inbox");t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(),dataPanel.innerHTML="",d.remove(),s.insertBefore(o(),s.lastChild),dataPanel.appendChild(e.createInboxTodos()),t.bind(this)()}function a(e){this.parentElement.appendChild(function(){const e=document.createElement("div");e.classList.add("modalContainer"),e.classList.add("fadeIn");const a=document.createElement("div");return a.classList.add("modal"),a.appendChild(function(){const e=document.createElement("p");return e.classList.add("alert"),e.textContent="Are you sure? Deleting project will delete all todos belong to it!",e}()),a.appendChild(function(){const e=document.createElement("div");return e.classList.add("actions"),e.appendChild(function(){const e=document.createElement("button");return e.textContent="No",e.classList.add("cancel"),e.addEventListener("click",t),e}()),e.appendChild(function(){const e=document.createElement("button");return e.textContent="Yes",e.classList.add("agree"),e.addEventListener("click",n),e}()),e}()),e.appendChild(a),e}())}function o(){const t=JSON.parse(localStorage.getItem("allProjects")),n=document.createElement("ul");return n.classList.add("projectsContainer"),t.forEach((t=>{const o=document.createElement("li");o.classList.add("listContainer");const c=document.createElement("span");c.textContent=t.name,c.classList.add("project"),c.id=t.name,c.addEventListener("click",e.displayTodos);const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add("fa-circle-minus"),s.addEventListener("click",a),n.appendChild(o),o.appendChild(c),o.appendChild(s)})),n}return{deleteProject:a,createProjectsList:o}}(),n=function(){const e=[];class t{constructor(e){this.name=e,this.todos=[]}}class n{constructor(e){this.content=e}}const a=new t("Cleaning"),o=new t("Laundry"),c=new t("Shopping");e.push(a),e.push(o),e.push(c);const s=new n("Sweeping the floor."),d=new n("Vacuuming the floor."),i=new n("Washing the filter."),r=new n("Buy new necklace."),l=new n("Put clothes in washer machine."),u=new n("Put clothes in dryer.");if(a.todos.push(s),a.todos.push(d),a.todos.push(i),o.todos.push(l),o.todos.push(u),c.todos.push(r),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}())return localStorage.setItem("allProjects",JSON.stringify(e)),{Project:t,todo:n}}(),a=function(){function a(a){let o=document.getElementById("newProjectName");const c=new n.Project(o.value),s=JSON.parse(localStorage.getItem("allProjects")),d=this.closest(".projects"),i=this.closest(".projects"),r=i.children[1];var l;i.removeChild(r),s.push(c),l=s,localStorage.setItem("allProjects",JSON.stringify(l)),dataPanel.innerHTML="",r.remove(),function(e){const t=Array.from(document.getElementsByClassName("project")),n=document.getElementById("Inbox");t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}(),d.insertBefore(t.createProjectsList(),d.lastChild),dataPanel.appendChild(e.createInboxTodos()),this.closest(".modalContainer").remove()}return{addProject:function(e){this.parentElement.appendChild(function(){const e=document.createElement("div");return e.classList.add("modalContainer"),e.classList.add("fadeIn"),e.appendChild(function(){const e=document.createElement("div");e.classList.add("modal"),e.classList.add("flex");const t=document.createElement("label");t.setAttribute("for","newProjectName"),t.classList.add("label"),t.textContent="Enter the name for the project:";const n=document.createElement("input");n.id="newProjectName",n.type="text";const o=document.createElement("button");return o.classList.add("submit"),o.textContent="Submit",o.addEventListener("click",a),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}()),e}())}}}();!function(){const n=document.getElementById("content");n.appendChild(function(e){const t=document.createElement("header");t.classList.add("header");const n=document.createElement("h2");return n.textContent=e,n.classList.add("siteTitle"),t.appendChild(n),t}("JustDoIt")),n.appendChild(function(){const n=document.createElement("main"),o=function(){const e=document.createElement("div");return e.id="controlPanel",e}(),c=function(){const e=document.createElement("div");return e.id="dataPanel",e}();n.appendChild(o),n.appendChild(c);const s=function(){const t=document.createElement("div");return t.classList.add("inbox"),t.classList.add("border"),t.addEventListener("click",e.displayTodos),t}();s.appendChild(function(){const e=document.createElement("h3");return e.textContent="Inbox",e.classList.add("project"),e.classList.add("active"),e.classList.add("projectHeader"),e.id="Inbox",e}()),o.appendChild(s);const d=function(){const e=document.createElement("div");return e.classList.add("projects"),e}();return d.appendChild(function(){const e=document.createElement("h3");return e.textContent="Projects",e.classList.add("projectHeader"),e.classList.add("border"),e}()),d.appendChild(function(){const n=JSON.parse(localStorage.getItem("allProjects")),a=document.createElement("ul");return a.classList.add("projectsContainer"),n.forEach((n=>{const o=document.createElement("li");o.classList.add("listContainer");const c=document.createElement("span");c.textContent=n.name,c.classList.add("project"),c.id=n.name,c.addEventListener("click",e.displayTodos);const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add("fa-circle-minus"),s.addEventListener("click",t.deleteProject),a.appendChild(o),o.appendChild(c),o.appendChild(s)})),a}()),d.appendChild(function(){const e=document.createElement("div");e.classList.add("newProjectContainer");const t=document.createElement("button");return t.textContent="NEW PROJECT",t.classList.add("newProjectBtn"),t.addEventListener("click",a.addProject),e.appendChild(t),e}()),o.appendChild(d),n}()),dataPanel.appendChild(e.createInboxTodos()),n.appendChild(function(e){const t=document.createElement("footer");t.classList.add("footer");const n=document.createElement("p");return n.textContent=`Â© by ${e}`,n.classList.add("copyright"),t.appendChild(n),t}("Zachary Truong"))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQ1pELEVGT2UsQ0FBYSxtQkFWckMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL2hlYWRlci5qcyIsIndlYnBhY2s6Ly9qdXN0ZG9pdC8uL3NyYy9zaG93VG9kb3MuanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvZGVsZXRlUHJvamVjdC5qcyIsIndlYnBhY2s6Ly9qdXN0ZG9pdC8uL3NyYy9kYXRhLmpzIiwid2VicGFjazovL2p1c3Rkb2l0Ly4vc3JjL2FkZFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vanVzdGRvaXQvLi9zcmMvbWFpbi5qcyIsIndlYnBhY2s6Ly9qdXN0ZG9pdC8uL3NyYy9mb290ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY3JlYXRlSGVhZGVyID0gZnVuY3Rpb24oc2l0ZVRpdGxlKSB7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xuICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyJyk7XG5cbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICB0aXRsZS50ZXh0Q29udGVudCA9IHNpdGVUaXRsZTtcbiAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnc2l0ZVRpdGxlJyk7XG5cbiAgaGVhZGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgcmV0dXJuIGhlYWRlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUhlYWRlcjsiLCJjb25zdCBzaG93VG9kb3MgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNldEFjdGl2ZVByb2plY3QoZSkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9qZWN0JykpO1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2UudGFyZ2V0LmlkfWApO1xuICAgIGFsbFByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH07XG4gIGZ1bmN0aW9uIGNsZWFyKG5vZGUpIHtcbiAgICBub2RlLmlubmVySFRNTCA9ICcnO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlUb2RvcyhlKSB7XG4gICAgc2V0QWN0aXZlUHJvamVjdChlKTtcbiAgICBjbGVhcihkYXRhUGFuZWwpO1xuICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ0luYm94Jykge1xuICAgICAgZGF0YVBhbmVsLmFwcGVuZENoaWxkKGNyZWF0ZUluYm94VG9kb3MoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFQYW5lbC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0VG9kb3MoZSkpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gY3JlYXRlSW5ib3hUb2RvcygpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsbFByb2plY3RzJykpO1xuICAgIGNvbnN0IGRhdGFCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgZGF0YUJsb2NrLmNsYXNzTGlzdC5hZGQoJ3RvZG9zJyk7XG4gICAgYWxsUHJvamVjdHMuZm9yRWFjaCggcHJvamVjdCA9PiB7XG4gICAgICBwcm9qZWN0LnRvZG9zLmZvckVhY2goIHRvZG8gPT4ge1xuICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGlzdC50ZXh0Q29udGVudCA9IHRvZG8uY29udGVudDtcbiAgICAgICAgZGF0YUJsb2NrLmFwcGVuZENoaWxkKGxpc3QpO1xuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBkYXRhQmxvY2tcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0VG9kb3MoZSkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxsUHJvamVjdHMnKSk7XG4gICAgY29uc3QgZGF0YUJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBkYXRhQmxvY2suY2xhc3NMaXN0LmFkZCgndG9kb3MnKTtcbiAgICBjb25zdCB0YXJnZXQgPSBhbGxQcm9qZWN0cy5maW5kKCBwcm9qZWN0ID0+IHByb2plY3RbJ25hbWUnXSA9PT0gZS50YXJnZXQuaWQpO1xuICAgIHRhcmdldC50b2Rvcy5mb3JFYWNoKCB0b2RvID0+IHtcbiAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ZhLXRoaW4nKTtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGlzdC50ZXh0Q29udGVudCA9IHRvZG8uY29udGVudDtcbiAgICAgIGRhdGFCbG9jay5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICB9KVxuICAgIHJldHVybiBkYXRhQmxvY2s7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5VG9kb3MsIFxuICAgIGNyZWF0ZUluYm94VG9kb3MsXG4gICAgY3JlYXRlUHJvamVjdFRvZG9zXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHNob3dUb2RvczsiLCJpbXBvcnQgc2hvd1RvZG9zIGZyb20gXCIuL3Nob3dUb2Rvc1wiO1xuY29uc3QgZGVsZXRlUHJvamVjdCA9ICggZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZVBvcHVwKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbENvbnRhaW5lcicpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmYWRlSW4nKTtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgbW9kYWwuYXBwZW5kQ2hpbGQoY3JlYXRlTm90aWZpY2F0aW9uVGV4dCgpKTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChjcmVhdGVBY3Rpb25zKCkpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbCk7XG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb25UZXh0KCkge1xuICAgIGNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGFsZXJ0LmNsYXNzTGlzdC5hZGQoJ2FsZXJ0Jyk7XG4gICAgYWxlcnQudGV4dENvbnRlbnQgPSAnQXJlIHlvdSBzdXJlPyBEZWxldGluZyBwcm9qZWN0IHdpbGwgZGVsZXRlIGFsbCB0b2RvcyBiZWxvbmcgdG8gaXQhJztcbiAgICByZXR1cm4gYWxlcnQ7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQWN0aW9ucygpIHtcbiAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdhY3Rpb25zJyk7XG4gICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjcmVhdGVDYW5jZWxCdG4oKSk7XG4gICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjcmVhdGVBZ3JlZUJ0bigpKTtcbiAgICByZXR1cm4gYWN0aW9ucztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVDYW5jZWxCdG4oKSB7XG4gICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY2FuY2VsLnRleHRDb250ZW50ID0gJ05vJztcbiAgICBjYW5jZWwuY2xhc3NMaXN0LmFkZCgnY2FuY2VsJyk7XG4gICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FuY2VsQnRuQWN0aW9uKTtcbiAgICByZXR1cm4gY2FuY2VsO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFncmVlQnRuKCkge1xuICAgIGNvbnN0IGFncmVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWdyZWUudGV4dENvbnRlbnQgPSAnWWVzJztcbiAgICBhZ3JlZS5jbGFzc0xpc3QuYWRkKCdhZ3JlZScpO1xuICAgIGFncmVlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWdyZWVCdG5BY3Rpb24pO1xuICAgIHJldHVybiBhZ3JlZTtcbiAgfVxuICBmdW5jdGlvbiBjYW5jZWxCdG5BY3Rpb24oZSkge1xuICAgIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gdGhpcy5jbG9zZXN0KCcubW9kYWxDb250YWluZXInKVxuICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGVJbicpO1xuICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGVPdXQnKTtcbiAgICBtb2RhbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XG4gICAgICBtb2RhbENvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9KVxuICB9XG4gIGZ1bmN0aW9uIGFncmVlQnRuQWN0aW9uKGUpIHtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IHJldHJpZXZlTG9jYWxTdG9yYWdlKCdhbGxQcm9qZWN0cycpO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuY2xvc2VzdCgnLmxpc3RDb250YWluZXInKTtcbiAgICBjb25zdCBwcm9qZWN0c0RpdiA9IHRoaXMuY2xvc2VzdCgnLnByb2plY3RzJyk7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSB0aGlzLmNsb3Nlc3QoJy5wcm9qZWN0c0NvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRhcmdldEluZGV4ID0gYWxsUHJvamVjdHMuZmluZEluZGV4KCBwcm9qZWN0ID0+IHByb2plY3QubmFtZSA9PT0gcGFyZW50LmZpcnN0Q2hpbGQuaWQpO1xuICAgIGFsbFByb2plY3RzLnNwbGljZSh0YXJnZXRJbmRleCwgMSk7XG4gICAgdXBkYXRlTG9jYWxTdG9yYWdlKGFsbFByb2plY3RzKTtcbiAgICBzZXRBY3RpdmUoJ0luYm94Jyk7XG4gICAgY2xlYXIoZGF0YVBhbmVsKTtcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICBwcm9qZWN0c0Rpdi5pbnNlcnRCZWZvcmUoY3JlYXRlUHJvamVjdHNMaXN0KCksIHByb2plY3RzRGl2Lmxhc3RDaGlsZCk7XG4gICAgZGF0YVBhbmVsLmFwcGVuZENoaWxkKHNob3dUb2Rvcy5jcmVhdGVJbmJveFRvZG9zKCkpO1xuICAgIChjYW5jZWxCdG5BY3Rpb24uYmluZCh0aGlzKSkoKTtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVQcm9qZWN0KGUpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXAoKSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYWxTdG9yYWdlKGRhdGEpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FsbFByb2plY3RzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICB9XG4gIGZ1bmN0aW9uIHJldHJpZXZlTG9jYWxTdG9yYWdlKGRhdGEpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShkYXRhKSk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0QWN0aXZlKGlkKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Byb2plY3QnKSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGFsbFByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH07XG4gIGZ1bmN0aW9uIGNsZWFyKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5pbm5lckhUTUwgPSAnJztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0c0xpc3QoKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGxQcm9qZWN0cycpKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgcHJvamVjdHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvamVjdHNDb250YWluZXInKTtcbiAgICBhbGxQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKCdsaXN0Q29udGFpbmVyJyk7XG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgY29udGVudC50ZXh0Q29udGVudCA9IHByb2plY3RbJ25hbWUnXTtcbiAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xuICAgICAgY29udGVudC5pZCA9IHByb2plY3QubmFtZTtcbiAgICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93VG9kb3MuZGlzcGxheVRvZG9zKTtcbiAgICAgIGNvbnN0IGRlbGV0ZVByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICBkZWxldGVQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJyk7XG4gICAgICBkZWxldGVQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLWNpcmNsZS1taW51cycpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVByb2plY3QpO1xuICAgICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdCk7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0QnRuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvamVjdHNDb250YWluZXI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkZWxldGVQcm9qZWN0LFxuICAgIGNyZWF0ZVByb2plY3RzTGlzdCxcbiAgfVxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgZGVsZXRlUHJvamVjdDsiLCJjb25zdCBkYXRhID0gKCBmdW5jdGlvbigpIHtcblxuICBjb25zdCBhbGxQcm9qZWN0cyA9IFtdO1xuICBjbGFzcyBQcm9qZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy50b2RvcyA9IFtdO1xuICAgIH1cbiAgfVxuICBjbGFzcyB0b2RvIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50KSB7XG4gICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIH1cbiAgfVxuICBjb25zdCBjbGVhbmluZyA9IG5ldyBQcm9qZWN0KCdDbGVhbmluZycpO1xuICBjb25zdCBsYXVuZHJ5ID0gbmV3IFByb2plY3QoJ0xhdW5kcnknKTtcbiAgY29uc3Qgc2hvcHBpbmcgPSBuZXcgUHJvamVjdCgnU2hvcHBpbmcnKTtcbiAgYWxsUHJvamVjdHMucHVzaChjbGVhbmluZyk7XG4gIGFsbFByb2plY3RzLnB1c2gobGF1bmRyeSk7XG4gIGFsbFByb2plY3RzLnB1c2goc2hvcHBpbmcpO1xuXG4gIGNvbnN0IHN3ZWVwaW5nID0gbmV3IHRvZG8oJ1N3ZWVwaW5nIHRoZSBmbG9vci4nKTtcbiAgY29uc3QgdmFjdXVtID0gbmV3IHRvZG8oJ1ZhY3V1bWluZyB0aGUgZmxvb3IuJyk7XG4gIGNvbnN0IHdhc2hpbmcgPSBuZXcgdG9kbygnV2FzaGluZyB0aGUgZmlsdGVyLicpO1xuICBjb25zdCBuZWNrbGFjZSA9IG5ldyB0b2RvKCdCdXkgbmV3IG5lY2tsYWNlLicpO1xuICBjb25zdCB3YXNoID0gbmV3IHRvZG8oJ1B1dCBjbG90aGVzIGluIHdhc2hlciBtYWNoaW5lLicpO1xuICBjb25zdCBkcnkgPSBuZXcgdG9kbygnUHV0IGNsb3RoZXMgaW4gZHJ5ZXIuJyk7XG4gIGNsZWFuaW5nLnRvZG9zLnB1c2goc3dlZXBpbmcpO1xuICBjbGVhbmluZy50b2Rvcy5wdXNoKHZhY3V1bSk7XG4gIGNsZWFuaW5nLnRvZG9zLnB1c2god2FzaGluZyk7XG4gIGxhdW5kcnkudG9kb3MucHVzaCh3YXNoKTtcbiAgbGF1bmRyeS50b2Rvcy5wdXNoKGRyeSk7XG4gIHNob3BwaW5nLnRvZG9zLnB1c2gobmVja2xhY2UpO1xuXG4gIGlmIChzdG9yYWdlQXZhaWxhYmxlKCdsb2NhbFN0b3JhZ2UnKSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhbGxQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGFsbFByb2plY3RzKSk7XG4gIH1cbiAgZWxzZSByZXR1cm47XG5cbiAgZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7XG4gICAgdmFyIHN0b3JhZ2U7XG4gICAgdHJ5IHtcbiAgICAgICAgc3RvcmFnZSA9IHdpbmRvd1t0eXBlXTtcbiAgICAgICAgdmFyIHggPSAnX19zdG9yYWdlX3Rlc3RfXyc7XG4gICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KTtcbiAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgKFxuICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxuICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxuICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICBlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykgJiZcbiAgICAgICAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxuICAgICAgICAgIChzdG9yYWdlICYmIHN0b3JhZ2UubGVuZ3RoICE9PSAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICByZXR1cm4ge1xuICAgIFByb2plY3QsXG4gICAgdG9kbyxcbiAgfVxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgZGF0YTsiLCJpbXBvcnQgZGF0YSBmcm9tICcuL2RhdGEnO1xuaW1wb3J0IGRlbGV0ZVByb2plY3QgZnJvbSAnLi9kZWxldGVQcm9qZWN0JztcbmltcG9ydCBzaG93VG9kb3MgZnJvbSAnLi9zaG93VG9kb3MnO1xuY29uc3QgYWRkUHJvamVjdCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGFkZFByb2plY3QoZSkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChjcmVhdGVQb3B1cCgpKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQb3B1cCgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWxDb250YWluZXInKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmFkZUluJyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU5ld1Byb2plY3RGb3JtKCkpO1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdEZvcm0oKSB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAnbmV3UHJvamVjdE5hbWUnKTtcbiAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gJ0VudGVyIHRoZSBuYW1lIGZvciB0aGUgcHJvamVjdDonO1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dC5pZCA9ICduZXdQcm9qZWN0TmFtZSc7XG4gICAgaW5wdXQudHlwZSA9ICd0ZXh0JztcbiAgICBjb25zdCBzdWJtaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBzdWJtaXQuY2xhc3NMaXN0LmFkZCgnc3VibWl0Jyk7XG4gICAgc3VibWl0LnRleHRDb250ZW50ID0gJ1N1Ym1pdCc7XG4gICAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTmV3UHJvamVjdCk7XG4gICAgbW9kYWwuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIG1vZGFsLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICBtb2RhbC5hcHBlbmRDaGlsZChzdWJtaXQpO1xuXG4gICAgcmV0dXJuIG1vZGFsO1xuICB9XG4gIGZ1bmN0aW9uIGFkZE5ld1Byb2plY3QoZSkge1xuICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdQcm9qZWN0TmFtZScpO1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgZGF0YS5Qcm9qZWN0KGlucHV0LnZhbHVlKTtcbiAgICBjb25zdCBhbGxQcm9qZWN0cyA9IHJldHJpZXZlTG9jYWxTdG9yYWdlKCdhbGxQcm9qZWN0cycpO1xuICAgIGNvbnN0IHByb2plY3RzRGl2ID0gdGhpcy5jbG9zZXN0KCcucHJvamVjdHMnKTtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmNsb3Nlc3QoJy5wcm9qZWN0cycpO1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gcGFyZW50LmNoaWxkcmVuWzFdO1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChwcm9qZWN0c0NvbnRhaW5lcik7XG4gICAgYWxsUHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcbiAgICB1cGRhdGVMb2NhbFN0b3JhZ2UoYWxsUHJvamVjdHMpO1xuICAgIGNsZWFyKGRhdGFQYW5lbCk7XG4gICAgcHJvamVjdHNDb250YWluZXIucmVtb3ZlKCk7XG4gICAgc2V0QWN0aXZlKCdJbmJveCcpO1xuICAgIHByb2plY3RzRGl2Lmluc2VydEJlZm9yZShkZWxldGVQcm9qZWN0LmNyZWF0ZVByb2plY3RzTGlzdCgpLCBwcm9qZWN0c0Rpdi5sYXN0Q2hpbGQpO1xuICAgIGRhdGFQYW5lbC5hcHBlbmRDaGlsZChzaG93VG9kb3MuY3JlYXRlSW5ib3hUb2RvcygpKTtcbiAgICB0aGlzLmNsb3Nlc3QoJy5tb2RhbENvbnRhaW5lcicpLnJlbW92ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUxvY2FsU3RvcmFnZShkYXRhKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhbGxQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfVxuICBmdW5jdGlvbiByZXRyaWV2ZUxvY2FsU3RvcmFnZShkYXRhKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oZGF0YSkpO1xuICB9XG4gIGZ1bmN0aW9uIHNldEFjdGl2ZShpZCkge1xuICAgIGNvbnN0IGFsbFByb2plY3RzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9qZWN0JykpO1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBhbGxQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgIHByb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9O1xuICBmdW5jdGlvbiBjbGVhcihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuaW5uZXJIVE1MID0gJyc7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhZGRQcm9qZWN0LFxuICB9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBhZGRQcm9qZWN0OyIsImltcG9ydCBjcmVhdGVIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCI7XG5pbXBvcnQgY3JlYXRlTWFpbiBmcm9tIFwiLi9tYWluXCI7XG5pbXBvcnQgc2hvd1RvZG9zIGZyb20gXCIuL3Nob3dUb2Rvc1wiO1xuaW1wb3J0IGNyZWF0ZUZvb3RlciBmcm9tIFwiLi9mb290ZXJcIjtcbmltcG9ydCBkYXRhIGZyb20gXCIuL2RhdGFcIjtcblxuKCBmdW5jdGlvbiB0b2RvQXBwKCkge1xuICBcbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7XG5cbiAgX2luaXQoKTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZUhlYWRlcignSnVzdERvSXQnKSk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVNYWluKCkpO1xuICAgIGRhdGFQYW5lbC5hcHBlbmRDaGlsZChzaG93VG9kb3MuY3JlYXRlSW5ib3hUb2RvcygpKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZUZvb3RlcignWmFjaGFyeSBUcnVvbmcnKSk7XG4gIH1cblxufSkoKTsiLCJpbXBvcnQgc2hvd1RvZG9zIGZyb20gXCIuL3Nob3dUb2Rvc1wiO1xuaW1wb3J0IGRlbGV0ZVByb2plY3QgZnJvbSBcIi4vZGVsZXRlUHJvamVjdFwiO1xuaW1wb3J0IGFkZFByb2plY3QgZnJvbSAnLi9hZGRQcm9qZWN0LmpzJztcblxuY29uc3QgY3JlYXRlTWFpbiA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gIGNvbnN0IGNvbnRyb2xQYW5lbCA9IGNyZWF0ZUNvbnRyb2xQYW5lbCgpO1xuICBjb25zdCBkYXRhUGFuZWwgPSBjcmVhdGVEYXRhUGFuZWwoKTtcbiAgbWFpbi5hcHBlbmRDaGlsZChjb250cm9sUGFuZWwpO1xuICBtYWluLmFwcGVuZENoaWxkKGRhdGFQYW5lbCk7XG5cbiAgY29uc3QgaW5ib3ggPSBjcmVhdGVJbmJveCgpO1xuICBpbmJveC5hcHBlbmRDaGlsZChjcmVhdGVJbmJveFRpdGxlKCkpO1xuICBjb250cm9sUGFuZWwuYXBwZW5kQ2hpbGQoaW5ib3gpO1xuICBcbiAgY29uc3QgcHJvamVjdHNCbG9jayA9IGNyZWF0ZVByb2plY3RzQmxvY2soKTtcbiAgcHJvamVjdHNCbG9jay5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0c1RpdGxlKCkpO1xuICBwcm9qZWN0c0Jsb2NrLmFwcGVuZENoaWxkKGNyZWF0ZVByb2plY3RzTGlzdCgpKTtcbiAgcHJvamVjdHNCbG9jay5hcHBlbmRDaGlsZChjcmVhdGVOZXdQcm9qZWN0QnRuKCkpO1xuXG4gIGNvbnRyb2xQYW5lbC5hcHBlbmRDaGlsZChwcm9qZWN0c0Jsb2NrKTtcblxuICBmdW5jdGlvbiBjcmVhdGVDb250cm9sUGFuZWwoKSB7XG4gICAgY29uc3QgY29udHJvbFBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udHJvbFBhbmVsLmlkID0gJ2NvbnRyb2xQYW5lbCc7XG4gICAgcmV0dXJuIGNvbnRyb2xQYW5lbDtcbiAgfTtcbiAgZnVuY3Rpb24gY3JlYXRlRGF0YVBhbmVsKCkge1xuICAgIGNvbnN0IGRhdGFQYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRhdGFQYW5lbC5pZCA9ICdkYXRhUGFuZWwnO1xuICAgIHJldHVybiBkYXRhUGFuZWw7XG4gIH07XG4gIGZ1bmN0aW9uIGNyZWF0ZUluYm94KCkge1xuICAgIGNvbnN0IGluYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaW5ib3guY2xhc3NMaXN0LmFkZCgnaW5ib3gnKTtcbiAgICBpbmJveC5jbGFzc0xpc3QuYWRkKCdib3JkZXInKTtcbiAgICBpbmJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dUb2Rvcy5kaXNwbGF5VG9kb3MpO1xuICAgIHJldHVybiBpbmJveDtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbmJveFRpdGxlKCkge1xuICAgIGNvbnN0IGluYm94VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIGluYm94VGl0bGUudGV4dENvbnRlbnQgPSAnSW5ib3gnO1xuICAgIGluYm94VGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xuICAgIGluYm94VGl0bGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgaW5ib3hUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0SGVhZGVyJyk7XG4gICAgaW5ib3hUaXRsZS5pZCA9ICdJbmJveCc7XG4gICAgcmV0dXJuIGluYm94VGl0bGU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHNCbG9jaygpIHtcbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2plY3RzLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzJyk7XG4gICAgcmV0dXJuIHByb2plY3RzO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzVGl0bGUoKSB7XG4gICAgY29uc3QgcHJvamVjdHNUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgcHJvamVjdHNUaXRsZS50ZXh0Q29udGVudCA9ICdQcm9qZWN0cyc7XG4gICAgcHJvamVjdHNUaXRsZS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0SGVhZGVyJyk7XG4gICAgcHJvamVjdHNUaXRsZS5jbGFzc0xpc3QuYWRkKCdib3JkZXInKTtcbiAgICByZXR1cm4gcHJvamVjdHNUaXRsZTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0c0xpc3QoKSB7XG4gICAgY29uc3QgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGxQcm9qZWN0cycpKTtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgcHJvamVjdHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvamVjdHNDb250YWluZXInKTtcbiAgICBhbGxQcm9qZWN0cy5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKCdsaXN0Q29udGFpbmVyJyk7XG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgY29udGVudC50ZXh0Q29udGVudCA9IHByb2plY3RbJ25hbWUnXTtcbiAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xuICAgICAgY29udGVudC5pZCA9IHByb2plY3QubmFtZTtcbiAgICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93VG9kb3MuZGlzcGxheVRvZG9zKTtcbiAgICAgIGNvbnN0IGRlbGV0ZVByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICBkZWxldGVQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLXNvbGlkJyk7XG4gICAgICBkZWxldGVQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLWNpcmNsZS1taW51cycpO1xuICAgICAgZGVsZXRlUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVByb2plY3QuZGVsZXRlUHJvamVjdCk7XG4gICAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKGRlbGV0ZVByb2plY3RCdG4pO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9qZWN0c0NvbnRhaW5lcjtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0QnRuKCkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCduZXdQcm9qZWN0Q29udGFpbmVyJyk7XG4gICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuLnRleHRDb250ZW50ID0gJ05FVyBQUk9KRUNUJztcbiAgICBidG4uY2xhc3NMaXN0LmFkZCgnbmV3UHJvamVjdEJ0bicpO1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFByb2plY3QuYWRkUHJvamVjdCk7XG4gICAgZGl2LmFwcGVuZENoaWxkKGJ0bik7XG4gICAgcmV0dXJuIGRpdjtcbiAgfVxuICByZXR1cm4gbWFpbjtcblxufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTWFpbjsiLCJjb25zdCBjcmVhdGVGb290ZXIgPSBmdW5jdGlvbihhdXRob3IpIHtcbiAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9vdGVyJyk7XG4gIGZvb3Rlci5jbGFzc0xpc3QuYWRkKCdmb290ZXInKTtcblxuICBjb25zdCBwYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBwYXJhLnRleHRDb250ZW50ID0gYMKpIGJ5ICR7YXV0aG9yfWA7XG4gIHBhcmEuY2xhc3NMaXN0LmFkZCgnY29weXJpZ2h0Jyk7XG5cbiAgZm9vdGVyLmFwcGVuZENoaWxkKHBhcmEpO1xuICByZXR1cm4gZm9vdGVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRm9vdGVyOyJdLCJuYW1lcyI6WyJjcmVhdGVJbmJveFRvZG9zIiwiYWxsUHJvamVjdHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGF0YUJsb2NrIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZm9yRWFjaCIsInByb2plY3QiLCJ0b2RvcyIsInRvZG8iLCJsaXN0IiwidGV4dENvbnRlbnQiLCJjb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVQcm9qZWN0VG9kb3MiLCJlIiwiZmluZCIsInRhcmdldCIsImlkIiwiZGlzcGxheVRvZG9zIiwiQXJyYXkiLCJmcm9tIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEVsZW1lbnRCeUlkIiwicmVtb3ZlIiwic2V0QWN0aXZlUHJvamVjdCIsImRhdGFQYW5lbCIsImlubmVySFRNTCIsImNhbmNlbEJ0bkFjdGlvbiIsIm1vZGFsQ29udGFpbmVyIiwidGhpcyIsImNsb3Nlc3QiLCJhZGRFdmVudExpc3RlbmVyIiwiYWdyZWVCdG5BY3Rpb24iLCJwYXJlbnQiLCJwcm9qZWN0c0RpdiIsInByb2plY3RzQ29udGFpbmVyIiwidGFyZ2V0SW5kZXgiLCJmaW5kSW5kZXgiLCJuYW1lIiwiZmlyc3RDaGlsZCIsImRhdGEiLCJzcGxpY2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic2V0QWN0aXZlIiwiaW5zZXJ0QmVmb3JlIiwiY3JlYXRlUHJvamVjdHNMaXN0IiwibGFzdENoaWxkIiwiYmluZCIsImRlbGV0ZVByb2plY3QiLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbmVyIiwibW9kYWwiLCJhbGVydCIsImNyZWF0ZU5vdGlmaWNhdGlvblRleHQiLCJhY3Rpb25zIiwiY2FuY2VsIiwiY3JlYXRlQ2FuY2VsQnRuIiwiYWdyZWUiLCJjcmVhdGVBZ3JlZUJ0biIsImNyZWF0ZUFjdGlvbnMiLCJjcmVhdGVQb3B1cCIsImRlbGV0ZVByb2plY3RCdG4iLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJjbGVhbmluZyIsImxhdW5kcnkiLCJzaG9wcGluZyIsInB1c2giLCJzd2VlcGluZyIsInZhY3V1bSIsIndhc2hpbmciLCJuZWNrbGFjZSIsIndhc2giLCJkcnkiLCJ0eXBlIiwic3RvcmFnZSIsIndpbmRvdyIsIngiLCJyZW1vdmVJdGVtIiwiRE9NRXhjZXB0aW9uIiwiY29kZSIsImxlbmd0aCIsInN0b3JhZ2VBdmFpbGFibGUiLCJhZGROZXdQcm9qZWN0IiwiaW5wdXQiLCJuZXdQcm9qZWN0IiwidmFsdWUiLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIiwiYWRkUHJvamVjdCIsImxhYmVsIiwic2V0QXR0cmlidXRlIiwic3VibWl0IiwiY3JlYXRlTmV3UHJvamVjdEZvcm0iLCJzaXRlVGl0bGUiLCJoZWFkZXIiLCJ0aXRsZSIsIm1haW4iLCJjb250cm9sUGFuZWwiLCJjcmVhdGVDb250cm9sUGFuZWwiLCJjcmVhdGVEYXRhUGFuZWwiLCJpbmJveCIsImNyZWF0ZUluYm94IiwiaW5ib3hUaXRsZSIsImNyZWF0ZUluYm94VGl0bGUiLCJwcm9qZWN0c0Jsb2NrIiwicHJvamVjdHMiLCJjcmVhdGVQcm9qZWN0c0Jsb2NrIiwicHJvamVjdHNUaXRsZSIsImNyZWF0ZVByb2plY3RzVGl0bGUiLCJkaXYiLCJidG4iLCJjcmVhdGVOZXdQcm9qZWN0QnRuIiwiYXV0aG9yIiwiZm9vdGVyIiwicGFyYSJdLCJzb3VyY2VSb290IjoiIn0=